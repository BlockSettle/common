/*

***********************************************************************************
* Copyright (C) 2020 - 2020, BlockSettle AB
* Distributed under the GNU Affero General Public License (AGPL v3)
* See LICENSE or http://www.gnu.org/licenses/agpl.html
*
**********************************************************************************

*/
syntax = "proto3";

package Blocksettle.Communication.ApiServerPb;

import "bs_types.proto";
import "bs_api_server.proto";

message Request
{
    message CheckApiKey
    {
        bytes client_id = 1;
        string api_key = 2;
        string ip_addr = 3;
    }

    message MarketOrder
    {
        string entity_name = 1;
        Blocksettle.Communication.ApiServer.Request.MarketOrder order = 2;
    }

    message LoadOrders
    {
        string entity_name = 1;
    }

    message LoadBalance
    {
        string entity_name = 1;
    }

    oneof data
    {
        CheckApiKey check_api_key = 1;
        MarketOrder market_order = 2;
        LoadOrders load_orders = 3;
        LoadBalance load_balance = 4;
    }
}

message Response
{
    message CheckApiKey
    {
        bytes client_id = 1;
        string api_key = 2;
        string entity_name = 3;
        bs.types.ApiKeyError error = 4;
    }

    message MarketOrder
    {
        string entity_name = 1;
        Blocksettle.Communication.ApiServer.Response.MarketOrder result = 2;
    }

    message LoadOrders
    {
        string entity_name = 1;
        Blocksettle.Communication.ApiServer.Response.LoadOrders result = 2;
    }

    message LoadBalance
    {
        string entity_name = 1;
        Blocksettle.Communication.ApiServer.Response.LoadBalance result = 2;
    }

    oneof data
    {
        CheckApiKey check_api_key = 1;
        MarketOrder market_order = 2;
        LoadOrders load_orders = 3;
        LoadBalance load_balance = 4;
    }
}
